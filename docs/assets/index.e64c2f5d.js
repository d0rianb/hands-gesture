import{B as t,l as i,h as e,y as d}from"./vendor.d41a5b52.js";const n=new Hands({locateFile:t=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${t}`}),s=document.querySelector(".input-video"),{width:a,height:l}=d();var o,c,r,h;o=document.querySelector(".canvas"),c=a,r=l,o.width=c*(h||window.devicePixelRatio||1),o.height=r*(h||window.devicePixelRatio||1),o.style.width=c+"px",o.style.height=r+"px",o.getContext("2d").setTransform(h,0,0,h,0,0),t.createFromCanvas(".canvas"),i.init();let m={x:a-200,y:200,width:30,height:30};function y(i){for(let{x:n,y:s}of i)t.circle(n,s,6,{lineWidth:2});const e=[i[2],i[5]];let d=0;for(let n=0;n<=i.length;n++)5===n?(t.poly(i.slice(d,n)),d=n):0!==d&&n==d+4&&(t.poly(i.slice(d,n)),i[n]&&e.push(i[n]),d=n);t.poly(e)}function p(i){let d="black";const n=i[1].add(i[13]).multiply(.5).add(i[2].add(i[17]).multiply(.5)).multiply(.5),s=Math.min(n.dist(i[0]),n.dist(i[1]),n.dist(i[2]),n.dist(i[5]),n.dist(i[13]),n.dist(i[17])),a=Math.max(i[9].dist(i[3]),i[9].dist(i[8]),i[9].dist(i[12]),i[9].dist(i[16]),i[9].dist(i[20])),l=!i.find(((t,e)=>e>4&&e%4==0&&n.dist(t)>n.dist(i[e-2])));l&&(d="red"),l&&i[9].dist(new e(m.x,m.y))<a&&(m.x=i[9].x,m.y=i[9].y),t.point(n.x,n.y),t.circle(n.x,n.y,s),t.circle(i[9].x,i[9].y,a,{strokeStyle:d})}n.setOptions({maxNumHands:2,minDetectionConfidence:.5,minTrackingConfidence:.5}),n.onResults((i=>{if(t.clear(),t.rect(m.x,m.y,m.width,m.height,{fillStyle:"white"}),null==i?void 0:i.multiHandLandmarks)for(let t of i.multiHandLandmarks){const i=t.map((({x:t,y:i})=>new e(t*a,i*l)));y(i),p(i)}}));new Camera(s,{onFrame:async()=>await n.send({image:s}),width:a,height:l}).start();
