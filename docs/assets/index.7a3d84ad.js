import{B as t,l as i,h as e,y as n}from"./vendor.d41a5b52.js";const d=new Hands({locateFile:t=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${t}`}),s=document.querySelector(".input-video");let{width:a,height:l}=n();var o,c,r,h;a=Math.min(a,16*l/9),o=document.querySelector(".canvas"),c=a,r=l,o.width=c*(h||window.devicePixelRatio||1),o.height=r*(h||window.devicePixelRatio||1),o.style.width=c+"px",o.style.height=r+"px",o.getContext("2d").setTransform(h,0,0,h,0,0),t.createFromCanvas(".canvas"),i.init();let m={x:a-200,y:200,width:30,height:30};function y(i){for(let{x:d,y:s}of i)t.circle(d,s,6,{lineWidth:2});const e=[i[2],i[5]];let n=0;for(let d=0;d<=i.length;d++)5===d?(t.poly(i.slice(n,d)),n=d):0!==n&&d==n+4&&(t.poly(i.slice(n,d)),i[d]&&e.push(i[d]),n=d);t.poly(e)}function p(i){let n="black";const d=i[1].add(i[13]).multiply(.5).add(i[2].add(i[17]).multiply(.5)).multiply(.5),s=Math.min(d.dist(i[0]),d.dist(i[1]),d.dist(i[2]),d.dist(i[5]),d.dist(i[13]),d.dist(i[17])),a=Math.max(i[9].dist(i[3]),i[9].dist(i[8]),i[9].dist(i[12]),i[9].dist(i[16]),i[9].dist(i[20])),l=!i.find(((t,e)=>e>4&&e%4==0&&d.dist(t)>d.dist(i[e-2])));l&&(n="red"),l&&i[9].dist(new e(m.x,m.y))<a&&(m.x=i[9].x,m.y=i[9].y),t.point(d.x,d.y),t.circle(d.x,d.y,s),t.circle(i[9].x,i[9].y,a,{strokeStyle:n})}d.setOptions({maxNumHands:2,minDetectionConfidence:.5,minTrackingConfidence:.5}),d.onResults((i=>{if(t.clear(),t.rect(m.x,m.y,m.width,m.height,{fillStyle:"white"}),null==i?void 0:i.multiHandLandmarks)for(let t of i.multiHandLandmarks){const i=t.map((({x:t,y:i})=>new e(t*a,i*l)));y(i),p(i)}}));new Camera(s,{onFrame:async()=>await d.send({image:s}),width:a,height:l}).start();
