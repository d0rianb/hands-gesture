import{h as t,B as i,l as e,a as n,c as d,y as s}from"./vendor.43104116.js";const a=new t.Hands({locateFile:t=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${t}`}),l=document.querySelector(".input-video"),{width:o,height:c}=s();var r,h,m,y;r=document.querySelector(".canvas"),h=o,m=c,r.width=h*(y||window.devicePixelRatio||1),r.height=m*(y||window.devicePixelRatio||1),r.style.width=h+"px",r.style.height=m+"px",r.getContext("2d").setTransform(y,0,0,y,0,0),i.createFromCanvas(".canvas"),e.init();let p={x:o-200,y:200,width:30,height:30};function x(t){for(let{x:d,y:s}of t)i.circle(d,s,6,{lineWidth:2});const e=[t[2],t[5]];let n=0;for(let d=0;d<=t.length;d++)5===d?(i.poly(t.slice(n,d)),n=d):0!==n&&d==n+4&&(i.poly(t.slice(n,d)),t[d]&&e.push(t[d]),n=d);i.poly(e)}function u(t){let e="black";const d=t[1].add(t[13]).multiply(.5).add(t[2].add(t[17]).multiply(.5)).multiply(.5),s=Math.min(d.dist(t[0]),d.dist(t[1]),d.dist(t[2]),d.dist(t[5]),d.dist(t[13]),d.dist(t[17])),a=Math.max(t[9].dist(t[3]),t[9].dist(t[8]),t[9].dist(t[12]),t[9].dist(t[16]),t[9].dist(t[20])),l=!t.find(((i,e)=>e>4&&e%4==0&&d.dist(i)>d.dist(t[e-2])));l&&(e="red"),l&&t[9].dist(new n(p.x,p.y))<a&&(p.x=t[9].x,p.y=t[9].y),i.point(d.x,d.y),i.circle(d.x,d.y,s),i.circle(t[9].x,t[9].y,a,{strokeStyle:e})}a.setOptions({maxNumHands:2,minDetectionConfidence:.5,minTrackingConfidence:.5}),a.onResults((t=>{if(i.clear(),i.rect(p.x,p.y,p.width,p.height,{fillStyle:"white"}),null==t?void 0:t.multiHandLandmarks)for(let i of t.multiHandLandmarks){const t=i.map((({x:t,y:i})=>new n(t*o,i*c)));x(t),u(t)}}));new d.Camera(l,{onFrame:async()=>await a.send({image:l}),width:o,height:c}).start();
